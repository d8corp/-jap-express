"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _jap=_interopRequireDefault(require("jap")),_express=require("express");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function express(a,b=!0,c=!0,d=()=>{},e=()=>{},f){return(g,h)=>{(0,_express.json)()(g,h,i=>{if(!i){const i=[];d(g,h);const j=(0,_jap.default)(a,g.body,b,c,i,f||a);e(g,h);const k=()=>h.end(JSON.stringify(j));i.length?Promise.all(i).then(k,k):k()}})}}var _default=express;exports.default=_default;